"use strict";(self["webpackChunkbus_eta"]=self["webpackChunkbus_eta"]||[]).push([[8],{1008:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var s=n(4562),r=n(266),o=n(2118),a=n(4324),i=n(1713),l=function(){var t=this,e=t._self._c;return e(o.Z,{attrs:{"fill-height":""}},[e(i.Z,{attrs:{"no-gutters":"",justify:"center"}},[t.bookmarkStopsWithETA.length>0?t._l(t.bookmarkStopsWithETA,(function(t,n){return e(r.Z,{key:n,staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"6",md:"4"}},[e("RouteStopEtaItem",{attrs:{routeInfo:t.routeInfo,stopInfo:t.stopInfo,eta:t.eta}})],1)})):[e(r.Z,{staticClass:"mx-auto",attrs:{cols:"12",sm:"6"}},[e(s.Z,{staticClass:"py-12 custom-main-btn",attrs:{block:"",elevation:"12","x-large":""},on:{click:t.toSelectRoute}},[e(a.Z,{attrs:{color:"white",large:""}},[t._v("mdi-plus")]),e(a.Z,{attrs:{color:"white",large:""}},[t._v("mdi-bus")]),e("h1",{staticClass:"white--text"},[t._v(" "+t._s(t.$t("transport.addNewBusStopBookmark"))+" ")])],1)],1)]],2)],1)},u=[],c=n(629),d=n(2009),f=n(5257),p={components:{RouteStopEtaItem:()=>n.e(814).then(n.bind(n,9814))},data(){return{refreshEtaInterval:1e4,etaList:{},dateNow:new Date}},computed:{...(0,c.Se)(["bookmarkStops","bookmarkTimeSections"]),activeTimeSections(){return this.bookmarkTimeSections.filter((t=>(0,f.R)(new Date,t.startTime,t.endTime))).map((t=>t.id))},inTimeSectionBookmarks(){return this.bookmarkStops.filter((t=>this.activeTimeSections.includes(t.timeSectionId)))},bookmarkStopsWithETA(){return this.inTimeSectionBookmarks.map((t=>{const e=t.stopInfo,n=this.etaList[`${e.stop}-${e.route}-${e.service_type}`];return{...t,eta:n}}))}},watch:{dateNow(t,e){}},mounted(){setInterval((()=>{this.dateNow=new Date}),1e3),this.getETAs(),setInterval((()=>{this.getETAs()}),this.refreshEtaInterval)},methods:{toSelectRoute(){this.$router.push("/routes").catch((()=>{}))},async getETAs(){for(let t=0;t<this.inTimeSectionBookmarks.length;t++){const e=this.inTimeSectionBookmarks[t].stopInfo,n=await(0,d.fA)(e.stop,e.route,e.service_type);this.$set(this.etaList,`${e.stop}-${e.route}-${e.service_type}`,n?.data)}}}},g=p,m=n(1001),h=(0,m.Z)(g,l,u,!1,null,null,null),y=h.exports},1884:function(){},266:function(t,e,n){n(1884);var s=n(144),r=n(1767),o=n(5352);const a=["sm","md","lg","xl"],i=(()=>a.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),l=(()=>a.reduce(((t,e)=>(t["offset"+(0,o.jC)(e)]={type:[String,Number],default:null},t)),{}))(),u=(()=>a.reduce(((t,e)=>(t["order"+(0,o.jC)(e)]={type:[String,Number],default:null},t)),{}))(),c={col:Object.keys(i),offset:Object.keys(l),order:Object.keys(u)};function d(t,e,n){let s=t;if(null!=n&&!1!==n){if(e){const n=e.replace(t,"");s+=`-${n}`}return"col"!==t||""!==n&&!0!==n?(s+=`-${n}`,s.toLowerCase()):s.toLowerCase()}}const f=new Map;e["Z"]=s.ZP.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...i,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...u,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:n,children:s,parent:o}){let a="";for(const r in e)a+=String(e[r]);let i=f.get(a);if(!i){let t;for(t in i=[],c)c[t].forEach((n=>{const s=e[n],r=d(t,n,s);r&&i.push(r)}));const n=i.some((t=>t.startsWith("col-")));i.push({col:!n||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),f.set(a,i)}return t(e.tag,(0,r.ZP)(n,{class:i}),s)}})},2118:function(t,e,n){n.d(e,{Z:function(){return a}});n(9027),n(1884);var s=n(144);function r(t){return s.ZP.extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:n,data:s,children:r}){s.staticClass=`${t} ${s.staticClass||""}`.trim();const{attrs:o}=s;if(o){s.attrs={};const t=Object.keys(o).filter((t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e}));t.length&&(s.staticClass+=` ${t.join(" ")}`)}return n.id&&(s.domProps=s.domProps||{},s.domProps.id=n.id),e(n.tag,s,r)}})}var o=n(1767),a=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:n,children:s}){let r;const{attrs:a}=n;return a&&(n.attrs={},r=Object.keys(a).filter((t=>{if("slot"===t)return!1;const e=a[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e}))),e.id&&(n.domProps=n.domProps||{},n.domProps.id=e.id),t(e.tag,(0,o.ZP)(n,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(r||[])}),s)}})},1713:function(t,e,n){n(1884);var s=n(144),r=n(1767),o=n(5352);const a=["sm","md","lg","xl"],i=["start","end","center"];function l(t,e){return a.reduce(((n,s)=>(n[t+(0,o.jC)(s)]=e(),n)),{})}const u=t=>[...i,"baseline","stretch"].includes(t),c=l("align",(()=>({type:String,default:null,validator:u}))),d=t=>[...i,"space-between","space-around"].includes(t),f=l("justify",(()=>({type:String,default:null,validator:d}))),p=t=>[...i,"space-between","space-around","stretch"].includes(t),g=l("alignContent",(()=>({type:String,default:null,validator:p}))),m={align:Object.keys(c),justify:Object.keys(f),alignContent:Object.keys(g)},h={align:"align",justify:"justify",alignContent:"align-content"};function y(t,e,n){let s=h[t];if(null!=n){if(e){const n=e.replace(t,"");s+=`-${n}`}return s+=`-${n}`,s.toLowerCase()}}const S=new Map;e["Z"]=s.ZP.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u},...c,justify:{type:String,default:null,validator:d},...f,alignContent:{type:String,default:null,validator:p},...g},render(t,{props:e,data:n,children:s}){let o="";for(const r in e)o+=String(e[r]);let a=S.get(o);if(!a){let t;for(t in a=[],m)m[t].forEach((n=>{const s=e[n],r=y(t,n,s);r&&a.push(r)}));a.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),S.set(o,a)}return t(e.tag,(0,r.ZP)(n,{staticClass:"row",class:a}),s)}})}}]);