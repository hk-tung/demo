"use strict";(self["webpackChunkbus_eta"]=self["webpackChunkbus_eta"]||[]).push([[944],{944:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var o=s(4145),i=s(2118),n=s(7678),r=s(6669),a=(0,n.Z)(r.Z).extend({name:"v-timeline",provide(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes(){return{"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse,...this.themeClasses}}},render(e){return e("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}}),l=s(2240),h=s(6878);const m=(0,n.Z)(h.Z,r.Z);var c=m.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon(){return!!this.icon||!!this.$slots.icon}},methods:{genBody(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon(){return this.$slots.icon?this.$slots.icon:this.$createElement(l.Z,{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot(){const e=this.setBackgroundColor(this.color);return this.$createElement("div",{staticClass:"v-timeline-item__inner-dot",...e},[this.hasIcon&&this.genIcon()])},genDot(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider(){const e=[];return this.hideDot||e.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},e)},genOpposite(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render(e){const t=[this.genBody(),this.genDivider()];return this.$slots.opposite&&t.push(this.genOpposite()),e("div",{staticClass:"v-timeline-item",class:{"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right,...this.themeClasses}},t)}}),d=s(4924),p=function(){var e=this,t=e._self._c;return t(i.Z,{staticClass:"fill-height"},[t(o.Z,{staticClass:"pa-2 mx-auto d-flex fill-height flex-grow-1 flex-column rounded-sm blur-back-drop",attrs:{elevation:"2","max-width":"600"}},[t("RouteItem",{attrs:{disabled:!0,routeItem:e.kmbRouteData}}),t("div",{ref:"scrollBoxContainer",staticClass:"flex-grow-1 py-2"},[t(a,{attrs:{"align-top":"",dense:""}},[t(d.Z,{staticClass:"overflow-x-hidden",attrs:{items:e.routeStopsCache,"item-height":100,height:e.scrollBoxHeight},scopedSlots:e._u([{key:"default",fn:function({item:s}){return[t(c,{attrs:{color:"pink"}},[t("div",{staticClass:"d-flex align-center"},[t("strong",{staticClass:"flex-grow-1"},[e._v(e._s(s.seq)+":"+e._s(e._f("kmbLang")(s,"name")))]),t("BookmarkDialog",{attrs:{bookmarkStops:e.bookmarkStops,stopItem:s},on:{addBookmark:e.addBookmark,removeBookmark:e.removeBookmark}})],1)])]}}])})],1)],1)],1)],1)},u=[],v=s(2231),g=s(629),f=s(670),k={components:{RouteItem:v.Z,BookmarkDialog:()=>Promise.all([s.e(808),s.e(50),s.e(438)]).then(s.bind(s,1534))},props:{route:{type:Object,default:()=>{}}},data(){return{scrollBoxHeight:0,routeStopsCache:[]}},computed:{...(0,g.Se)(["kmbRouteData","getStopsInfo","bookmarkStops"])},async mounted(){this.scrollBoxHeight=this.$refs.scrollBoxContainer.clientHeight-42;const{route:e,bound:t,serviceType:s}=this.$route.query;await this.$store.dispatch(f.H.fetchKmbRoute,{route:e,bound:t,serviceType:s}),e&&t&&s&&(await this.$store.dispatch(f.H.genKmbRouteStopsInfoCache,{route:e,bound:t,serviceType:s}),this.routeStopsCache=await this.getStopsInfo(e,t,s))},methods:{isInBookmark(e){const t=this.bookmarkStops.findIndex((t=>t.stopInfo.bound===e.bound&&t.stopInfo.stop===e.stop&&t.stopInfo.service_type===e.service_type&&t.stopInfo.route===e.route));return t>-1},addBookmark(e,t){this.$store.dispatch(f.H.addBookmarkStop,{route:e.route,bound:e.bound,serviceType:e.service_type,stop:e.stop,timeSectionId:t})},removeBookmark(e,t){this.$store.dispatch(f.H.removeBookmarkStop,{route:e.route,bound:e.bound,serviceType:e.service_type,stop:e.stop,timeSectionId:t})}}},b=k,B=s(1001),_=(0,B.Z)(b,p,u,!1,null,"96fbc634",null),C=_.exports}}]);