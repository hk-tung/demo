"use strict";(self["webpackChunkbus_eta"]=self["webpackChunkbus_eta"]||[]).push([[649],{2536:function(t,e,s){s.d(e,{Z:function(){return g}});var i=s(3423),r=s(4562),o=s(9582),n=s(8224),a=s(4324),l=s(7423),h=function(){var t=this,e=t._self._c;return e(n.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:s}){return[e(o.Z,{staticClass:"d-flex pa-2 mx-sm-auto",attrs:{elevation:!t.disabled&&s?12:2,width:"100%","max-width":"500"}},[e(i.Z,{attrs:{color:"red darken-3",size:"64",rounded:""}},[e("span",{staticClass:"white--text text-h5"},[t._v(t._s(t.routeItem.route))])]),e(l.Z,{staticClass:"flex-grow-1 d-flex flex-column align-stretch px-2"},[e("span",{staticClass:"caption font-weight-light"},[t._v(t._s(t.$t("transport.from"))+" "+t._s(t.routeItem.orig_tc))]),e(l.Z,{staticClass:"flex-grow-1 d-flex align-center text-left"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"caption font-weight-light"},[t._v(t._s(t.$t("transport.to")))]),e(a.Z,[t._v("mdi-ray-start-arrow")])],1),e("span",{staticClass:"text-h5 px-2"},[t._v(t._s(t.routeItem.dest_tc))])])],1),t.disabled?t._e():e(l.Z,[e(r.Z,{attrs:{color:"grey",outlined:"",depressed:"","x-small":"",height:"100%"},on:{click:function(e){return t.clickItem(t.routeItem)}}},[e(a.Z,[t._v("mdi-chevron-right")])],1)],1)],1)]}}])})},c=[],d={name:"RouteItem",props:{routeItem:{type:Object,default:()=>{}},disabled:{type:Boolean,default:!1}},methods:{clickItem(t){this.$emit("onClick",t)}}},u=d,m=s(1001),p=(0,m.Z)(u,h,c,!1,null,null,null),g=p.exports},6649:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var i=s(4562),r=s(2118),o=s(4324),n=s(7423),a=s(7678),l=s(6669),h=(0,a.Z)(l.Z).extend({name:"v-timeline",provide(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes(){return{"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse,...this.themeClasses}}},render(t){return t("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}}),c=s(2240),d=s(6878);const u=(0,a.Z)(d.Z,l.Z);var m=u.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon(){return!!this.icon||!!this.$slots.icon}},methods:{genBody(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon(){return this.$slots.icon?this.$slots.icon:this.$createElement(c.Z,{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot(){const t=this.setBackgroundColor(this.color);return this.$createElement("div",{staticClass:"v-timeline-item__inner-dot",...t},[this.hasIcon&&this.genIcon()])},genDot(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider(){const t=[];return this.hideDot||t.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},t)},genOpposite(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render(t){const e=[this.genBody(),this.genDivider()];return this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:{"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right,...this.themeClasses}},e)}}),p=s(4924),g=function(){var t=this,e=t._self._c;return e(r.Z,{staticClass:"fill-height"},[e(n.Z,{staticClass:"pa-2 mx-auto d-flex fill-height flex-grow-1 flex-column rounded-sm",attrs:{elevation:"2","max-width":"600"}},[e("RouteItem",{attrs:{disabled:!0,routeItem:t.kmbRouteData}}),e("div",{ref:"scrollBoxContainer",staticClass:"flex-grow-1 py-2"},[e(h,{attrs:{"align-top":"",dense:""}},[e(p.Z,{staticClass:"overflow-x-hidden",attrs:{items:t.routeStopsCache,"item-height":100,height:t.scrollBoxHeight},scopedSlots:t._u([{key:"default",fn:function({item:s}){return[e(m,{attrs:{color:"pink"}},[e("div",{staticClass:"d-flex align-center"},[e("strong",{staticClass:"flex-grow-1"},[t._v(t._s(s.seq)+":"+t._s(s.name_tc))]),t.isInBookmark(s)?e(i.Z,{staticClass:"ma-2",attrs:{text:"",icon:"",color:"red lighten-2"},on:{click:function(e){return t.removeBookmark(s)}}},[e(o.Z,{attrs:{"x-large":""}},[t._v("mdi-bookmark-check")])],1):e(i.Z,{staticClass:"ma-2",attrs:{text:"",icon:"",color:"lighten-2"},on:{click:function(e){return t.addBookmark(s)}}},[e(o.Z,{attrs:{"x-large":""}},[t._v("mdi-bookmark-outline")])],1)],1)])]}}])})],1)],1)],1)],1)},v=[],f=s(2536),_=s(629),b=s(670),y={components:{RouteItem:f.Z},props:{route:{type:Object,default:()=>{}}},data(){return{scrollBoxHeight:0,routeStopsCache:[]}},computed:{...(0,_.Se)(["kmbRouteData","getStopsInfo","bookmarkStops"])},async mounted(){this.scrollBoxHeight=this.$refs.scrollBoxContainer.clientHeight-42;const{route:t,bound:e,serviceType:s}=this.$route.query;await this.$store.dispatch(b.H.fetchKmbRoute,{route:t,bound:e,serviceType:s}),t&&e&&s&&(await this.$store.dispatch(b.H.genKmbRouteStopsInfoCache,{route:t,bound:e,serviceType:s}),this.routeStopsCache=await this.getStopsInfo(t,e,s))},methods:{isInBookmark(t){const e=this.bookmarkStops.findIndex((e=>e.stopInfo.bound===t.bound&&e.stopInfo.stop===t.stop&&e.stopInfo.service_type===t.service_type&&e.stopInfo.route===t.route));return e>-1},addBookmark(t){this.$store.dispatch(b.H.addBookmarkStop,{route:t.route,bound:t.bound,serviceType:t.service_type,stop:t.stop})},removeBookmark(t){this.$store.dispatch(b.H.removeBookmarkStop,{route:t.route,bound:t.bound,serviceType:t.service_type,stop:t.stop})}}},k=y,C=s(1001),B=(0,C.Z)(k,g,v,!1,null,"f437948a",null),x=B.exports},1884:function(){},9582:function(t,e,s){s.d(e,{Z:function(){return a}});var i=s(3434),r=s(401),o=s(8860),n=s(7678),a=(0,n.Z)(r.Z,o.Z,i.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...o.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...i.Z.options.computed.classes.call(this)}},styles(){const t={...i.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=r.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:s}=this.generateRouteLink();return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},2118:function(t,e,s){s.d(e,{Z:function(){return n}});s(9027),s(1884);var i=s(144);function r(t){return i.ZP.extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:s,data:i,children:r}){i.staticClass=`${t} ${i.staticClass||""}`.trim();const{attrs:o}=i;if(o){i.attrs={};const t=Object.keys(o).filter((t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}));t.length&&(i.staticClass+=` ${t.join(" ")}`)}return s.id&&(i.domProps=i.domProps||{},i.domProps.id=s.id),e(s.tag,i,r)}})}var o=s(1767),n=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:s,children:i}){let r;const{attrs:n}=s;return n&&(s.attrs={},r=Object.keys(n).filter((t=>{if("slot"===t)return!1;const e=n[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e}))),e.id&&(s.domProps=s.domProps||{},s.domProps.id=e.id),t(e.tag,(0,o.ZP)(s,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(r||[])}),i)}})},8224:function(t,e,s){var i=s(3016),r=s(1444),o=s(7678),n=s(4101);e["Z"]=(0,o.Z)(i.Z,r.Z).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter(){this.runDelay("open")},onMouseLeave(){this.runDelay("close")}},render(){if(!this.$scopedSlots.default&&void 0===this.value)return(0,n.Kd)("v-hover is missing a default scopedSlot or bound value",this),null;let t;return this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):((0,n.Kd)("v-hover should only contain a single element",this),t)}})},4924:function(t,e,s){s.d(e,{Z:function(){return n}});var i=s(8846),r=s(3130),o=s(5352),n=i.Z.extend({name:"v-virtual-scroll",directives:{Scroll:r.Z},props:{bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},data:()=>({first:0,last:0,scrollTop:0}),computed:{__bench(){return parseInt(this.bench,10)},__itemHeight(){return parseInt(this.itemHeight,10)},firstToRender(){return Math.max(0,this.first-this.__bench)},lastToRender(){return Math.min(this.items.length,this.last+this.__bench)}},watch:{height:"onScroll",itemHeight:"onScroll"},mounted(){this.last=this.getLast(0)},methods:{getChildren(){return this.items.slice(this.firstToRender,this.lastToRender).map(this.genChild)},genChild(t,e){e+=this.firstToRender;const s=(0,o.kb)(e*this.__itemHeight);return this.$createElement("div",{staticClass:"v-virtual-scroll__item",style:{top:s},key:e},(0,o.z9)(this,"default",{index:e,item:t}))},getFirst(){return Math.floor(this.scrollTop/this.__itemHeight)},getLast(t){const e=parseInt(this.height||0,10)||this.$el.clientHeight;return t+Math.ceil(e/this.__itemHeight)},onScroll(){this.scrollTop=this.$el.scrollTop,this.first=this.getFirst(),this.last=this.getLast(this.first)}},render(t){const e=t("div",{staticClass:"v-virtual-scroll__container",style:{height:(0,o.kb)(this.items.length*this.__itemHeight)}},this.getChildren());return t("div",{staticClass:"v-virtual-scroll",style:this.measurableStyles,directives:[{name:"scroll",modifiers:{self:!0},value:this.onScroll}],on:this.$listeners},[e])}})},401:function(t,e,s){s.d(e,{Z:function(){return g}});var i=s(144),r=s(7394),o=s(6750),n=s(6878),a=s(4263),l=s(3457),h=s(6669),c=s(5352),d=s(7678);const u=(0,d.Z)(n.Z,(0,a.d)(["absolute","fixed","top","bottom"]),l.Z,h.Z);var m=u.extend({name:"v-progress-linear",directives:{intersect:o.Z},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:(0,c.kb)(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:(0,c.kb)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:t,[this.isReversed?"right":"left"]:(0,c.kb)(this.normalizedValue,"%"),width:(0,c.kb)(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible,...this.themeClasses}},computedTransition(){return this.indeterminate?r.Z5:r.Qn},isReversed(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=(0,c.kb)(this.normalizedBuffer,"%")),t}},methods:{genContent(){const t=(0,c.z9)(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners(){const t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[t]:!0}}))},onClick(t){if(!this.reactive)return;const{width:e}=this.$el.getBoundingClientRect();this.internalValue=t.offsetX/e*100},onObserve(t,e,s){this.isVisible=s},normalize(t){return t<0?0:t>100?100:parseFloat(t)}},render(t){const e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?(0,c.kb)(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),p=m,g=i.ZP.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(p,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})}}]);
//# sourceMappingURL=649.899ff2f6.js.map